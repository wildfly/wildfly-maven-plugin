
<!DOCTYPE html>
<!--
 Generated by Apache Maven Doxia the 2023-06-28
 Rendered using Docs Maven Skin 2.3.2 (https://github.com/Bernardo-MG/docs-maven-skin)
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>WildFly Maven Plugin &#x2013; Execute Commands Examples</title>
    <link href="./favicon.ico" rel="shortcut icon" type="image/x-icon">

    <!-- Metadata -->
    <meta name="description" content="WildFly Maven Plugin">
    <meta name="author" content="James R. Perkins">

    <!-- Facebook Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="WildFly Maven Plugin &#x2013; Execute Commands Examples">
    <meta property="og:title" content="WildFly Maven Plugin &#x2013; Execute Commands Examples">
    <meta property="og:description" content="WildFly Maven Plugin">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:creator" content="@WildFlyAS">
    <meta name="twitter:title" content="WildFly Maven Plugin &#x2013; Execute Commands Examples">
    <meta name="twitter:description" content="WildFly Maven Plugin">

    <!-- CSS -->
    <link rel="stylesheet" href="./lib/bootswatch/dist/slate/bootstrap.min.css">
    <link rel="stylesheet" href="./lib/font-awesome/css/all.min.css">
    <link rel="stylesheet" href="./lib/highlight/styles/rainbow.css">
    <!-- Docs Template style -->
    <link rel="stylesheet" href="./css/style.min.css">

    <!-- Custom style -->
    <link rel="stylesheet" href="./css/custom.css">

</head>
<body class="d-flex flex-column">
<header>
    <nav id="navbar-main" class="navbar navbar-expand-md navbar-bg-primary bg-bg-primary">
        <div class="container-fluid">
            <a class="navbar-brand" href="./index.html">WildFly Maven Plugin</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar-main-menu" aria-controls="navbar-main" aria-expanded="false" aria-label="Toggle navigation">
               <span class="navbar-toggler-icon"></span>
            </button>
        
            <small class="navbar-text d-none d-md-block"><span id="navbar-version">4.1.1.Final</span> (<time id="navbar-date">2023-06-28</time>)</small>
            <div class="collapse navbar-collapse" id="navbar-main-menu">
                <ul class="nav navbar-nav ms-auto">
                    <li class="nav-item dropdown">
                        <a href="#" class="nav-link dropdown-toggle" id="Overview_menu" data-bs-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Overview</a>
                        <ul class="dropdown-menu dropdown-menu-end" role="menu" aria-labelledby="Overview_menu">
                            <li><a class="dropdown-item" href="index.html" title="Introduction" aria-label="Introduction">Introduction</a></li>
                            <li><a class="dropdown-item" href="plugin-info.html" title="Goals" aria-label="Goals">Goals</a></li>
                            <li><a class="dropdown-item" href="usage.html" title="Usage" aria-label="Usage">Usage</a></li>
                            <li><a class="dropdown-item" href="faq.html" title="FAQ" aria-label="FAQ">FAQ</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a href="#" class="nav-link dropdown-toggle" id="Examples_menu" data-bs-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Examples</a>
                        <ul class="dropdown-menu dropdown-menu-end" role="menu" aria-labelledby="Examples_menu">
                            <li><a class="dropdown-item" href="add-resource-example.html" title="Add Resource Example" aria-label="Add Resource Example">Add Resource Example</a></li>
                            <li><a class="dropdown-item" href="deployment-example.html" title="Deploy Application Example" aria-label="Deploy Application Example">Deploy Application Example</a></li>
                            <li><a class="dropdown-item" href="complex-example.html" title="Complex Example" aria-label="Complex Example">Complex Example</a></li>
                            <li><a class="dropdown-item" href="execute-commands-example.html" title="Execute Commands Example" aria-label="Execute Commands Example">Execute Commands Example</a></li>
                            <li><a class="dropdown-item" href="dev-example.html" title="Dev Example" aria-label="Dev Example">Dev Example</a></li>
                            <li><a class="dropdown-item" href="run-example.html" title="Run Example" aria-label="Run Example">Run Example</a></li>
                            <li><a class="dropdown-item" href="package-example.html" title="Package Example" aria-label="Package Example">Package Example</a></li>
                            <li><a class="dropdown-item" href="provision-example.html" title="Provision Example" aria-label="Provision Example">Provision Example</a></li>
                            <li><a class="dropdown-item" href="image-example.html" title="Build and Push an Application Image Example" aria-label="Build and Push an Application Image Example">Build and Push an Application Image Example</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a href="#" class="nav-link dropdown-toggle" id="Project_Documentation_menu" data-bs-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Project Documentation</a>
                        <ul class="dropdown-menu dropdown-menu-end" role="menu" aria-labelledby="Project_Documentation_menu">
                            <li><a class="dropdown-item" href="apidocs/index.html" title="JavaDoc" aria-label="JavaDoc">JavaDoc</a></li>
                            <li><a class="dropdown-item" href="https://docs.wildfly.org" title="WildFly" aria-label="WildFly">WildFly</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a href="#" class="nav-link dropdown-toggle" id="Reports_menu" data-bs-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Reports</a>
                        <ul class="dropdown-menu dropdown-menu-end" role="menu" aria-labelledby="Reports_menu">
                            <li><a class="dropdown-item" href="project-info.html" title="Project Information" aria-label="Project Information">Project Information</a></li>
                            <li><a class="dropdown-item" href="project-reports.html" title="Project Reports" aria-label="Project Reports">Project Reports</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a href="#" class="nav-link dropdown-toggle" id="Releases_menu" data-bs-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Releases</a>
                        <ul class="dropdown-menu dropdown-menu-end" role="menu" aria-labelledby="Releases_menu">
                            <li><a class="dropdown-item" href="../4.2" title="4.2 (stable)" aria-label="4.2 (stable)">4.2 (stable)</a></li>
                            <li><a class="dropdown-item" href="../4.1" title="4.1 (stable)" aria-label="4.1 (stable)">4.1 (stable)</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</header>
<main>
    <section id="main-section" class="container flex-grow-1">
<header class="pb-2 mt-4 mb-2 border-bottom">
 <h1 id="Execute-Commands-Examples">Execute Commands Examples</h1>
</header>
<p>The execute-commands goal allows you to execute commands, in the CLI format, on the running WildFly.</p>
<section>
 <h2 id="Execute-commands"><a name="Execute_commands"></a>Execute commands</h2>
 <p>The example below shows how to add a debug logger with a debug log file:</p>
 <div>
  <div>
   <pre class="border shadow rounded"><code>&lt;project&gt;
    ...
    &lt;build&gt;
        ...
        &lt;plugins&gt;
            ...
            &lt;plugin&gt;
                &lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;
                &lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;
                &lt;version&gt;4.1.1.Final&lt;/version&gt;
                &lt;configuration&gt;
                    &lt;commands&gt;
                        &lt;command&gt;/subsystem=logging/file-handler=debug:add(level=DEBUG,autoflush=true,file={"relative-to"=&gt;"jboss.server.log.dir", "path"=&gt;"debug.log"})&lt;/command&gt;
                        &lt;command&gt;/subsystem=logging/logger=org.jboss.as:add(level=DEBUG,handlers=[debug])&lt;/command&gt;
                    &lt;/commands&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
            ...
        &lt;/plugins&gt;
        ...
    &lt;/build&gt;
...
&lt;/project&gt;</code></pre>
  </div>
 </div>
</section>
<section>
 <h2 id="Execute-commands-from-CLI-scripts"><a name="Execute_commands_from_CLI_scripts"></a>Execute commands from CLI scripts</h2>
 <p>The example below shows how to execute commands from a CLI script:</p>
 <div>
  <div>
   <pre class="border shadow rounded"><code>&lt;project&gt;
    ...
    &lt;build&gt;
        ...
        &lt;plugins&gt;
            ...
            &lt;plugin&gt;
                &lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;
                &lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;
                &lt;version&gt;4.1.1.Final&lt;/version&gt;
                &lt;configuration&gt;
                    &lt;scripts&gt;
                        &lt;script&gt;config.cli&lt;/script&gt;
                    &lt;/scripts&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
            ...
        &lt;/plugins&gt;
        ...
    &lt;/build&gt;
...
&lt;/project&gt;</code></pre>
  </div>
 </div>
</section>
<section>
 <h2 id="Example-of-a-CLI-script-to-set-the-transaction-timeout-to-600-seconds"><a name="Example_of_a_CLI_script_to_set_the_transaction_timeout_to_600_seconds."></a>Example of a CLI script to set the transaction timeout to 600 seconds.</h2>
 <div>
  <div>
   <pre class="border shadow rounded"><code>batch
# set default transaction timeout
/subsystem=transactions:write-attribute(name=default-timeout, value=600)
#...
# Execute and reload
run-batch
:reload</code></pre>
  </div>
 </div>
</section>
<section>
 <h2 id="Execute-CLI-commands-in-a-new-process"><a name="Execute_CLI_commands_in_a_new_process"></a>Execute CLI commands in a new process</h2>
 <p>The example below shows how to execute commands in a forked process. This allows for CLI commands, such as module add, to be used.</p>
 <div>
  <div>
   <pre class="border shadow rounded"><code>&lt;project&gt;
    ...
    &lt;build&gt;
        ...
        &lt;plugins&gt;
            ...
            &lt;plugin&gt;
                &lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;
                &lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;
                &lt;version&gt;${version.org.wildfly.plugin}&lt;/version&gt;
                &lt;executions&gt;
                ....
                &lt;/executions&gt;
                &lt;configuration&gt;
                    &lt;fork&gt;true&lt;/fork&gt;
                    &lt;jboss-home&gt;${wildfly.dir}&lt;/jboss-home&gt;
                    &lt;command&gt;module add --name=org.wildfly.plugin.example --dependencies=org.jboss.logging --resources=${project.build.directory}${file.separator}example.jar&lt;/command&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
            ...
        &lt;/plugins&gt;
        ...
    &lt;/build&gt;
    ...
&lt;/project&gt;</code></pre>
  </div>
 </div>
</section>
<section>
 <h2 id="Execute-offline-embedded-CLI-scripts"><a name="Execute_offline_embedded_CLI_scripts"></a>Execute offline embedded CLI scripts</h2>
 <p>The example below shows how to execute commands offline from a CLI script, which is useful for running scripts that embed server or host controller.</p>
 <div>
  <div>
   <pre class="border shadow rounded"><code>&lt;project&gt;
    ...
    &lt;build&gt;
        ...
        &lt;plugins&gt;
            ...
            &lt;plugin&gt;
                &lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;
                &lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;
                &lt;version&gt;${version.org.wildfly.plugin}&lt;/version&gt;
                &lt;configuration&gt;
                    &lt;!-- Tells plugin to start in offline mode, to not try to connect to server or start it--&gt;
                    &lt;offline&gt;true&lt;/offline&gt;
                    &lt;commands&gt;
                        &lt;command&gt;/system-property=org.jboss.example.runtime:write-attribute(name=dev)&lt;/command&gt;
                    &lt;/commands&gt;
                    &lt;jboss-home&gt;${wildfly.dir}&lt;/jboss-home&gt;
                    &lt;!-- where to out log--&gt;
                    &lt;stdout&gt;${project.build.directory}/wildfly-plugin.log&lt;/stdout&gt;
                    &lt;!-- java opts with which CLI is started with --&gt;
                    &lt;java-opts&gt;
                        &lt;java-opt&gt;--add-modules=javax.se&lt;/java-opt&gt;
                        &lt;java-opt&gt;-Xmx256m&lt;/java-opt&gt;
                    &lt;/java-opts&gt;
                    &lt;!-- system properties that can than be referenced in CLI script--&gt;
                    &lt;system-properties&gt;
                        &lt;public.ip&gt;${node0}&lt;/public.ip&gt;
                    &lt;/system-properties&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
            ...
        &lt;/plugins&gt;
        ...
    &lt;/build&gt;
    ...
&lt;/project&gt;</code></pre>
  </div>
 </div>
</section>
<section>
 <h2 id="Execute-offline-embedded-CLI-scripts"><a name="Execute_offline_embedded_CLI_scripts"></a>Execute offline embedded CLI scripts</h2>
 <p>The example below shows how to execute commands offline from a CLI script, which is useful for running scripts that embed server or host controller. Note that the java-opts in this example shows how to set JVM options with a space delimited set of options rather than an array.</p>
 <div>
  <div>
   <pre class="border shadow rounded"><code>&lt;project&gt;
    ...
    &lt;build&gt;
        ...
        &lt;plugins&gt;
            ...
            &lt;plugin&gt;
                &lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;
                &lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;
                &lt;version&gt;${version.org.wildfly.plugin}&lt;/version&gt;
                &lt;executions&gt;
                ....
                &lt;/executions&gt;
                &lt;configuration&gt;
                    &lt;!-- Tells plugin to start in offline mode, to not try to connect to server or start it--&gt;
                    &lt;offline&gt;true&lt;/offline&gt;
                    &lt;scripts&gt;
                        &lt;script&gt;scrip-name.cli&lt;/script&gt;
                    &lt;/scripts&gt;
                    &lt;jboss-home&gt;${wildfly.dir}&lt;/jboss-home&gt;
                    &lt;!-- where to out log--&gt;
                    &lt;stdout&gt;${project.build.directory}/wildfly-plugin.log&lt;/stdout&gt;
                    &lt;!-- java opts with which CLI is started with --&gt;
                    &lt;java-opts&gt;${modular.jdk.args}&lt;/java-opts&gt;
                    &lt;!-- system properties that can than be referenced in CLI script--&gt;
                    &lt;system-properties&gt;
                        &lt;public.ip&gt;${node0}&lt;/public.ip&gt;
                       ....
                    &lt;/system-properties&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
            ...
        &lt;/plugins&gt;
        ...
    &lt;/build&gt;
    ...
&lt;/project&gt;</code></pre>
  </div>
 </div>
</section>
    </section>
</main>
<footer class="footer w-100 pt-2 border-top bg-bg-primary">
    <div id="footer-nav" class="bg-bg-primary container">
    </div>
    <div id="footer-info" class="bg-bg-primary ps-2 pb-1 w-100">
        <div id="footer-custom-content"><div class="float-md-end"><a href="https://www.redhat.com/"><span class="fw-bold btn-link">Sponsored by</span> <img class="img-fluid" src="https://www.wildfly.org/assets/img/redhat_reversed.svg"></a></div></div>
        <div> <span class="fa-regular fa-copyright"></span>2023<a href="http://www.jboss.org">JBoss by Red Hat</a>-
<a href="https://repository.jboss.org/licenses/lgpl-2.1.txt">GNU Lesser General Public License v2.1 only</a>
</div>
        <div>Rendered using <a href="https://github.com/Bernardo-MG/docs-maven-skin">Docs Maven Skin</a> 2.3.2</div>
    </div>
</footer>
<script src="./lib/popperjs/core/dist/umd/popper.min.js"></script>
<script src="./lib/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="./lib/highlight/highlight.pack.js"></script>
<script src="./js/initializeHighlight.js"></script>
<script src="../../js/custom-nav.js" type="text/javascript"></script>
</body>
</html>
